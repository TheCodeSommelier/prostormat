<div class="container index-places-container">

  <h1 class="test"></h1>
  <h1 class="my-4">Nejlepší prostory pro váš event!</h1>
  <div>
    <%= form_with url: places_path, method: :get, data: { turbo_frame: "places_list" }, class: "d-flex flex-column justify-content-center p-2" do |form| %>
      <div class="d-flex w-100 mb-2">
        <%= text_field_tag :query,
              params[:query],
              placeholder: "Praha 1, Ostrava, Pařížská atd...",
              class: "form-control search-bar-border-radius me-2",
              data: { search_target: "searchTextField", action: "input->search#startSearch" } %>

        <%= number_field_tag :min_capacity,
            params[:min_capacity],
            placeholder: 'Minimální kapacita, např. 100',
            class: 'form-control',
            data: { search_target: "capacityNumberField", action: "input->search#startSearch" } %>
      </div>

      <div class="filters d-flex flex-column align-items-center">
        <div class="d-flex justify-content-center p-2">
          <% @filters.each do |filter| %>
            <div class="d-flex me-2">
              <div>
                <%= check_box_tag "filters[]", filter.id, params[:filters]&.include?(filter.id.to_s), id: "filters_#{filter.id}", class: 'me-2 form-check-input' %>
              </div>
              <div>
                <%= label_tag "filters_#{filter.id}", filter.name.capitalize %>
              </div>
            </div>
          <% end %>
        </div>
      </div>

      <div class="w-100 mt-2">
        <%= form.submit 'Vyhledat', class: "button-primary w-100" %>
      </div>
    <% end %>
  </div>

  <div class="spaces-cards" id="index-card-grid" data-controller="search">
    <%= render 'shared/places_card_grid' %>
  </div>

  <div class="d-flex justify-content-center w-100">
    <%= paginate @places, params: request.query_parameters %>
  </div>
</div>
