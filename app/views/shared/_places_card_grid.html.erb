<% @places.each do |place| %>
  <div class="card-index d-flex justify-content-between">
    <div class="image-container border-side" data-controller="loader">
      <% if place.photos.attached? %>
        <div class="image-loader"></div>
        <%= image_tag place.photos.first, crop: :fill, quality: "auto", fetch_format: "auto", class: 'image-card', data: { action: "load->loader#handleImageLoad"} %>
      <% end %>
    </div>
    <div class="d-flex flex-column justify-content-between w-50">
      <div class="d-flex flex-column">
        <div class="d-flex justify-content-between">
          <p class="place-city-color-size"><%= place.city %></p>
          <div class="d-flex align-items-center">
            <%= image_tag('person-grey.svg', width: 10, class: "person-icon-margin-right") %>
            <p><%= place.max_capacity %></p>
          </div>
        </div>
        <div class="address">
          <p><%= place.street %> <%= place.house_number %>, <%= place.city %></p>
        </div>
      </div>


      <div class="short-desc-color-size">
        <h5>Jaký je náš prostor</h5>
        <p class="my-3"><%= place.short_description %></p>
      </div>

      <div class="d-flex align-items-end justify-content-between">
        <h4 class="card-title-width"><%= place.place_name.truncate(18) %></h4>
        <%= link_to place_path(place) do %>
          <%= image_tag('arrow_right.svg', width: 25) %>
        <% end %>
      </div>
    </div>
  </div>
<% end %>
